*--------------------------------------------------------------------------------------------------------------------------------------------------------
* (ES) AUTOGENERADO - ¡¡ATENCIÓN!! - ¡¡NO PENSADO PARA EJECUTAR!! USAR SOLAMENTE PARA INTEGRAR CAMBIOS Y ALMACENAR CON HERRAMIENTAS SCM!!
* (EN) AUTOGENERATED - ATTENTION!! - NOT INTENDED FOR EXECUTION!! USE ONLY FOR MERGING CHANGES AND STORING WITH SCM TOOLS!!
*--------------------------------------------------------------------------------------------------------------------------------------------------------
*< FOXBIN2PRG: Version="1.19" SourceFile="dmrlasevupd.scx" /> (Solo para binarios VFP 9 / Only for VFP 9 binaries)
*
*
DEFINE CLASS dataenvironment AS dataenvironment 
 	*< CLASSDATA: Baseclass="dataenvironment" Timestamp="" Scale="" Uniqueid="" ClassIcon="2" />

	AutoOpenTables = .F.
	DataSource = .NULL.
	Height = 200
	Left = 31
	Name = "Dataenvironment"
	Top = 362
	Width = 520

ENDDEFINE

DEFINE CLASS formdmrlasevupd AS frmdatamanagerformcustom OF "..\custom\cforms.vcx" 
 	*< CLASSDATA: Baseclass="form" Timestamp="" Scale="" Uniqueid="" />

	*-- OBJECTDATA items order determines ZOrder / El orden de los items OBJECTDATA determina el ZOrder 
	*< OBJECTDATA: ObjPath="txtCwellid" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblCwellid" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtCwellname" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtCfieldid" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblCfieldid" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtCfieldname" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtCparish" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblCparish" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtCcounty" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblCcounty" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdWellID" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtCcode" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblCcode" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblNexclrate" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtCpayercode" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblCpayercode" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtCtaxcode" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblCtaxcode2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNexclrate" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtCyear" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblCyear" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtCperiod" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Lbltextcustom1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblNtotmcf" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblNexmcf" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblNnetmcf" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblNtotaldue" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNtotmcf" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNexmcf" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNnetmcf" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtNtotaldue" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdFieldID" UniqueID="" Timestamp="" />

	*<DefinedPropArrayMethod>
		*m: taxcalc
	*</DefinedPropArrayMethod>

	Caption = "Update LA Severance Tax File"
	clistexpression = lasevtax.cyear
	cnavworkarea = lasevtax
	cworkarea = lasevtax
	DoCreate = .T.
	Height = 188
	HelpContextID = 601
	Name = "Formdmrlasevupd"
	Width = 621
	cmdatamanager.Left = 0
	cmdatamanager.Name = "cmdatamanager"
	cmdatamanager.TabIndex = 1
	cmdatamanager.Top = 15
	cmlookupmanager.Left = 13
	cmlookupmanager.Name = "cmlookupmanager"
	cmlookupmanager.Top = 17

	ADD OBJECT 'cmdFieldID' AS swlookupbutton WITH ;
		Left = 142, ;
		Name = "cmdFieldID", ;
		TabIndex = 3, ;
		Top = 53
		*< END OBJECT: ClassLib="..\custom\swcontrol.vcx" BaseClass="commandbutton" />

	ADD OBJECT 'cmdWellID' AS swlookupbutton WITH ;
		Left = 142, ;
		Name = "cmdWellID", ;
		TabIndex = 3, ;
		Top = 21
		*< END OBJECT: ClassLib="..\custom\swcontrol.vcx" BaseClass="commandbutton" />

	ADD OBJECT 'lblCcode' AS lblfieldlabelcustom WITH ;
		Caption = "Exclusion Code:", ;
		Height = 16, ;
		Left = 167, ;
		Name = "lblCcode", ;
		TabIndex = 23, ;
		Top = 117, ;
		Width = 79
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="label" />

	ADD OBJECT 'lblCcounty' AS lblfieldlabelcustom WITH ;
		Caption = "Parish:", ;
		Height = 16, ;
		Left = 167, ;
		Name = "lblCcounty", ;
		TabIndex = 17, ;
		Top = 86, ;
		Width = 35
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="label" />

	ADD OBJECT 'lblCfieldid' AS lblfieldlabelcustom WITH ;
		Caption = "Field ID:", ;
		Height = 16, ;
		Left = 17, ;
		Name = "lblCfieldid", ;
		TabIndex = 12, ;
		Top = 55, ;
		Width = 39
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="label" />

	ADD OBJECT 'lblCparish' AS lblfieldlabelcustom WITH ;
		Caption = "Parish Code:", ;
		Height = 16, ;
		Left = 17, ;
		Name = "lblCparish", ;
		TabIndex = 16, ;
		Top = 86, ;
		Width = 63
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="label" />

	ADD OBJECT 'lblCpayercode' AS lblfieldlabelcustom WITH ;
		Caption = "Tax Payer Code:", ;
		Height = 16, ;
		Left = 467, ;
		Name = "lblCpayercode", ;
		TabIndex = 18, ;
		Top = 86, ;
		Width = 82
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="label" />

	ADD OBJECT 'lblCtaxcode2' AS lblfieldlabelcustom WITH ;
		Caption = "Tax Rate Code:", ;
		Height = 16, ;
		Left = 17, ;
		Name = "lblCtaxcode2", ;
		TabIndex = 22, ;
		Top = 117, ;
		Width = 76
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="label" />

	ADD OBJECT 'lblCwellid' AS lblfieldlabelcustom WITH ;
		Caption = "Well ID:", ;
		Height = 16, ;
		Left = 17, ;
		Name = "lblCwellid", ;
		TabIndex = 8, ;
		Top = 23, ;
		Width = 37
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="label" />

	ADD OBJECT 'lblCyear' AS lblfieldlabelcustom WITH ;
		Caption = "Year/Period:", ;
		Height = 16, ;
		Left = 467, ;
		Name = "lblCyear", ;
		TabIndex = 9, ;
		Top = 23, ;
		Width = 62
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="label" />

	ADD OBJECT 'lblNexclrate' AS lblfieldlabelcustom WITH ;
		Caption = "Exclusion Rate:", ;
		Height = 16, ;
		Left = 310, ;
		Name = "lblNexclrate", ;
		TabIndex = 24, ;
		Top = 117, ;
		Width = 76
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="label" />

	ADD OBJECT 'lblNexmcf' AS lblfieldlabelcustom WITH ;
		Caption = "Exempt MCF:", ;
		Height = 16, ;
		Left = 147, ;
		Name = "lblNexmcf", ;
		TabIndex = 30, ;
		Top = 147, ;
		Width = 64
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="label" />

	ADD OBJECT 'lblNnetmcf' AS lblfieldlabelcustom WITH ;
		Caption = "Net MCF:", ;
		Height = 16, ;
		Left = 310, ;
		Name = "lblNnetmcf", ;
		TabIndex = 31, ;
		Top = 147, ;
		Width = 45
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="label" />

	ADD OBJECT 'lblNtotaldue' AS lblfieldlabelcustom WITH ;
		Caption = "Total Tax Due:", ;
		Height = 16, ;
		Left = 436, ;
		Name = "lblNtotaldue", ;
		TabIndex = 32, ;
		Top = 147, ;
		Width = 71
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="label" />

	ADD OBJECT 'lblNtotmcf' AS lblfieldlabelcustom WITH ;
		Caption = "Total MCF:", ;
		Height = 16, ;
		Left = 17, ;
		Name = "lblNtotmcf", ;
		TabIndex = 29, ;
		Top = 147, ;
		Width = 52
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="label" />

	ADD OBJECT 'Lbltextcustom1' AS lbltextcustom WITH ;
		Caption = "/", ;
		FontSize = 11, ;
		Left = 577, ;
		Name = "Lbltextcustom1", ;
		TabIndex = 7, ;
		Top = 22
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="label" />

	ADD OBJECT 'txtCcode' AS txttextboxcustom WITH ;
		ControlSource = "lasevtax.ccode", ;
		Height = 20, ;
		Left = 252, ;
		MaxLength = 1, ;
		Name = "txtCcode", ;
		TabIndex = 20, ;
		Top = 115, ;
		Width = 16
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtCcounty' AS txttextboxcustom WITH ;
		ControlSource = "lasevtax.ccounty", ;
		Height = 20, ;
		Left = 204, ;
		MaxLength = 40, ;
		Name = "txtCcounty", ;
		TabIndex = 14, ;
		Top = 84, ;
		Width = 249
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtCfieldid' AS txttextboxcustom WITH ;
		ControlSource = "lasevtax.cfieldid", ;
		Height = 20, ;
		Left = 62, ;
		MaxLength = 10, ;
		Name = "txtCfieldid", ;
		TabIndex = 10, ;
		Top = 53, ;
		Width = 76
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtCfieldname' AS txttextboxcustom WITH ;
		BackColor = 212,208,200, ;
		ControlSource = "lasevtax.cfieldname", ;
		Height = 20, ;
		Left = 167, ;
		MaxLength = 40, ;
		Name = "txtCfieldname", ;
		TabIndex = 11, ;
		Top = 53, ;
		Width = 286
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtCparish' AS txttextboxcustom WITH ;
		ControlSource = "lasevtax.cparish", ;
		Height = 20, ;
		Left = 96, ;
		MaxLength = 5, ;
		Name = "txtCparish", ;
		TabIndex = 13, ;
		Top = 84, ;
		Width = 42
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtCpayercode' AS txttextboxcustom WITH ;
		ControlSource = "lasevtax.cpayercode", ;
		Height = 20, ;
		Left = 565, ;
		MaxLength = 5, ;
		Name = "txtCpayercode", ;
		TabIndex = 15, ;
		Top = 84, ;
		Width = 42
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtCperiod' AS txttextboxcustom WITH ;
		ControlSource = "lasevtax.cperiod", ;
		Height = 20, ;
		Left = 584, ;
		MaxLength = 2, ;
		Name = "txtCperiod", ;
		TabIndex = 6, ;
		Top = 21, ;
		Width = 23
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtCtaxcode' AS txttextboxcustom WITH ;
		ControlSource = "lasevtax.ctaxcode", ;
		Height = 20, ;
		Left = 109, ;
		MaxLength = 3, ;
		Name = "txtCtaxcode", ;
		TabIndex = 19, ;
		Top = 115, ;
		Width = 29
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtCwellid' AS txttextboxcustom WITH ;
		ControlSource = "lasevtax.cwellid", ;
		Height = 20, ;
		InputMask = "XXXXXXXXXX", ;
		Left = 62, ;
		MaxLength = 10, ;
		Name = "txtCwellid", ;
		TabIndex = 2, ;
		Top = 21, ;
		Width = 76
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtCwellname' AS txttextboxcustom WITH ;
		BackColor = 212,208,200, ;
		ControlSource = "lasevtax.cwellname", ;
		Height = 20, ;
		Left = 167, ;
		MaxLength = 40, ;
		Name = "txtCwellname", ;
		TabIndex = 4, ;
		Top = 21, ;
		Width = 286
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtCyear' AS txttextboxcustom WITH ;
		ControlSource = "lasevtax.cyear", ;
		Height = 20, ;
		Left = 540, ;
		MaxLength = 4, ;
		Name = "txtCyear", ;
		TabIndex = 5, ;
		Top = 21, ;
		Width = 35
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNexclrate' AS txttextboxcustom WITH ;
		ControlSource = "lasevtax.nexclrate", ;
		Left = 397, ;
		Name = "txtNexclrate", ;
		TabIndex = 21, ;
		Top = 115, ;
		Width = 56
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNexmcf' AS txttextboxcustom WITH ;
		ControlSource = "lasevtax.nexmcf", ;
		Height = 20, ;
		Left = 219, ;
		Name = "txtNexmcf", ;
		TabIndex = 26, ;
		Top = 145, ;
		Width = 62
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNnetmcf' AS txttextboxcustom WITH ;
		ControlSource = "lasevtax.nnetmcf", ;
		Height = 20, ;
		Left = 359, ;
		Name = "txtNnetmcf", ;
		TabIndex = 27, ;
		Top = 145, ;
		Width = 62
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNtotaldue' AS txttextboxcustom WITH ;
		ControlSource = "lasevtax.ntotaldue", ;
		Left = 517, ;
		Name = "txtNtotaldue", ;
		TabIndex = 28, ;
		Top = 145, ;
		Width = 90
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtNtotmcf' AS txttextboxcustom WITH ;
		ControlSource = "lasevtax.ntotmcf", ;
		Height = 20, ;
		Left = 72, ;
		Name = "txtNtotmcf", ;
		TabIndex = 25, ;
		Top = 145, ;
		Width = 62
		*< END OBJECT: ClassLib="..\custom\ccontrol.vcx" BaseClass="textbox" />
	
	PROCEDURE Init
		THISFORM.oMessage = IIF(ISNULL(THISFORM.oMessage), FindGlobalObject('cmMessage'), .NULL.)
		
		DODEFAULT()
	ENDPROC

	PROCEDURE list
		LPARAMETERS cworkarea
		PRIV llOK
		LOCAL lcList
		
		IF USED('temp')
		   USE IN temp
		ENDIF
		IF USED('listtemp')
		   USE IN listtemp
		ENDIF
		
		llOK = .F.
		
		SELECT cYear,cPeriod,cWellID,cWellName FROM lasevtax INTO CURSOR temp
		
		USE DBF('temp') AGAIN IN 0 ALIAS listtemp
		SELECT listtemp
		INDEX ON cYear+cPeriod TAG cYear
		INDEX ON cWellID TAG cWellID
		INDEX ON cWellName TAG cWellName
		
		lcList = 'cYear,cperiod,cWellID,cWellName'
		
		SELE listtemp
		
		IF THIS.flushcontrolbuffer() AND THIS.beforenav('lasevtax')
		   DO FORM ..\CUSTOM\picklist WITH 'listtemp', lcList, THISFORM.txtcYear.VALUE, 4, .T.
		ENDIF
		
		IF llOK
		   SELECT lasevtax
		   LOCATE FOR cYear+cPeriod+cWellID = listtemp.cYear+listtemp.cPeriod+listtemp.cWellID
		ENDIF
		
		THISFORM.REFRESH()
		
	ENDPROC

	PROCEDURE Load
		THISFORM.oMessage = IIF(ISNULL(THISFORM.oMessage), FindGlobalObject('cmMessage'), .NULL.)
		
		SET MULTILOCKS ON
		
		IF NOT FILE('datafiles\lasevtax.dbf')
		   THISFORM.oMessage.DISPLAY("The LA severance tax file hasn't been created yet, so nothing can be updated. Please create the file before attempting to update it.")
		   RETURN .F.
		ELSE
		   IF NOT USED('lasevtax')
		      USE datafiles\lasevtax IN 0
		   ENDIF 
		   swselect('lasevtax',.t.)
		ENDIF
		
		swselect('fields')
		swselect('wells')
		
		DODEFAULT()
		
	ENDPROC

	PROCEDURE taxcalc
		THISFORM.txtnNetMCF.SET('value',lasevtax.nTotMCF-lasevtax.nExMCF)
		DO CASE
		   CASE ALLTRIM(lasevtax.cTaxCode) = '2'
		      THISFORM.txtnTotalDue.SET('value',ROUND(lasevtax.nNetMCF*.03,2))
		   CASE ALLTRIM(lasevtax.cTaxCode) = '3'
		      THISFORM.txtnTotalDue.SET('value',ROUND(lasevtax.nNetMCF*.013,2))
		   CASE ALLTRIM(lasevtax.cTaxCode) = '7'
		      THISFORM.txtnTotalDue.SET('value',ROUND(lasevtax.nNetMCF*.07,2))
		ENDCASE
		
		
	ENDPROC

	PROCEDURE cmdatamanager.afternew
		LPARAMETERS cworkarea
		
		THISFORM.setnextcontrol(THISFORM.txtcWellID)
		
		DODEFAULT(cworkarea)
		
	ENDPROC

	PROCEDURE cmdFieldID.Click
		LOCAL lcList
		PRIV llOK
		
		llOK = .F.
		lcList = 'cFieldID,cFieldName,'
		DO FORM ..\CUSTOM\picklist WITH 'Fields', lcList, THISFORM.txtcFieldID.VALUE, 2
		
		IF llOK
		   THISFORM.txtcFieldID.SET('value',FIELDS.cFieldid)
		   THISFORM.txtcFieldname.SET('value',FIELDS.cFieldname)
		ENDIF
		
		THISFORM.setnextcontrol(THISFORM.txtcFieldID)
		
	ENDPROC

	PROCEDURE cmdWellID.Click
		LOCAL lcList
		PRIV llOK
		
		llOK = .F.
		lcList = 'cwellid,cwellname,cgroup'
		DO FORM ..\CUSTOM\picklist WITH 'Wells', lcList, THISFORM.txtcWellID.VALUE, 3
		
		IF llOK
		   THISFORM.txtcWellID.SET('value',wells.cPermit6)
		   THISFORM.txtcwellname.SET('value',wells.cwellname)
		ENDIF
		
		THISFORM.setnextcontrol(THISFORM.txtcWellID)
		
	ENDPROC

	PROCEDURE txtCfieldid.GotFocus
		ON KEY LABEL F2 _SCREEN.ACTIVEFORM.cmdFieldID.CLICK()
		
		DODEFAULT()
		
	ENDPROC

	PROCEDURE txtCfieldid.Valid
		SELECT FIELDS
		SET ORDER TO cfieldid
		
		IF NOT EMPTY(THIS.VALUE)
		   IF SEEK(THIS.VALUE)
		      IF alltrim(FIELDS.cFieldName) <> alltrim(lasevtax.cFieldName)
		         THISFORM.txtcFieldName.SET('value',FIELDS.cFieldName)
		      ENDIF
		   ELSE
		      THISFORM.oMessage.warning('An invalid Field ID was entered.  Please correct.')
		      RETURN 0
		   ENDIF
		ENDIF
		
		DODEFAULT()
		
	ENDPROC

	PROCEDURE txtCfieldname.When
		return .f.
		
	ENDPROC

	PROCEDURE txtCperiod.Valid
		IF LEN(ALLTRIM(THIS.VALUE)) < 2
		   REPLACE lasevtax.cperiod WITH PADL(ALLTRIM(THIS.VALUE),2,'0')
		   THIS.REFRESH()
		ENDIF
		
		DODEFAULT()
		
	ENDPROC

	PROCEDURE txtCwellid.GotFocus
		ON KEY LABEL F2 _SCREEN.ACTIVEFORM.cmdWellID.CLICK()
		
		DODEFAULT()
		
	ENDPROC

	PROCEDURE txtCwellid.Valid
		SELECT wells
		SET ORDER TO cwellid
		
		IF NOT EMPTY(THIS.VALUE)
		   LOCATE FOR ALLTRIM(cPermit6) = ALLTRIM(this.Value)
		   IF FOUND()
		      IF alltrim(wells.cwellname) <> alltrim(lasevtax.cwellname)
		         THISFORM.txtcWellName.SET('value',wells.cwellname)
		      ENDIF
		   ELSE
		      THISFORM.oMessage.warning('An invalid well ID was entered.  Please correct.')
		      RETURN 0
		   ENDIF
		ENDIF
		
		DODEFAULT()
		
	ENDPROC

	PROCEDURE txtCwellname.When
		return .f.
		
	ENDPROC

	PROCEDURE txtNexmcf.Valid
		IF THIS.VALUE <> lasevtax.nExMCF
		   IF DODEFAULT()
		      THISFORM.taxcalc()
		   ENDIF
		ENDIF
		
		
	ENDPROC

	PROCEDURE txtNtotmcf.Valid
		IF THIS.VALUE <> lasevtax.nTotMCF
		   IF DODEFAULT()
		      THISFORM.txtnExMCF.SET('value',ROUND(THIS.VALUE*lasevtax.nexclRate,0))
		      THISFORM.taxcalc()
		   ENDIF
		ENDIF
		
		
	ENDPROC

ENDDEFINE
